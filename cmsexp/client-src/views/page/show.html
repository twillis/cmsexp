<h1>{{page.title}}</h1>

<span ng-repeat="section in page.sections | orderBy:weight">
  <i class="fa-android">yeah</i>
  <div ng-hide="editSectionId == section.id">
    <a ui-sref="page.show({pageId:page.id, sectionId: section.id, newSection: null})">edit section</a>
    <span ng-bind-html="section.body | asHtml"/></span>
  </div>
  <div ng-show="editSectionId == section.id">
    <textarea ckeditor="editorOptions" ng-model="section.body">
      
    </textarea>
    <button ng-click="saveSection(section)">Save</button>
    <a ui-sref="page.show({pageId: page.id, sectionId: null, newSection: null})">Cancel</a>
  </div>
</span>

<a ng-hide="isNewSection=='true'" ui-sref="page.show({pageId: page.id, sectionId: null, newSection: true})">new section</a>
<div ng-show="isNewSection=='true'">
    <textarea ckeditor="editorOptions" ng-model="newSection.body">
      
    </textarea>
    <button ng-click="doNewSection()">Save</button>
    <a ui-sref="page.show({pageId: page.id, sectionId: null, newSection: null})">Cancellle</a>
</div>
